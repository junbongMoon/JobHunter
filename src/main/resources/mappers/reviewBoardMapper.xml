<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jobhunter.mapper.reviewboardmapper">



	<select id="allList"
		resultType="com.jobhunter.model.reviewboard.ReviewBoard">
	SELECT
    rb.boardNo,
    rb.writer,        
    u.userId,   
    rb.companyName,
    rb.reviewResult,
    rb.reviewType,
    rb.reviewLevel,
    rb.content,
    rb.category,
    rb.jobType,
    rb.postDate,
    rb.likes,
    rb.views
    FROM
    reviewBoard rb
    LEFT JOIN users u ON rb.writer = u.uid
	</select>

	<insert id="insertReview" useGeneratedKeys="true" keyProperty="boardNo">
		INSERT  INTO reviewBoard (
		writer,companyName,reviewResult,reviewType,
		reviewLevel,content,category,jobType
		)
		VALUES (
		#{writer},#{companyName},#{reviewResult},#{reviewType},
		#{reviewLevel},#{content},#{category},#{jobType})
	</insert>
		
		
		<select id="detailAll" parameterType="int"
        resultType="com.jobhunter.model.reviewboard.ReviewBoard">
    SELECT
        rb.boardNo,
        u.userId AS writer,
        rb.companyName,
        rb.reviewResult,
        rb.reviewType,
        rb.reviewLevel,
        rb.content,
        rb.category,
        rb.jobType,
        rb.postDate,
        rb.likes,
        rb.views
    FROM reviewBoard rb
    LEFT JOIN users u ON rb.writer = u.uid
    WHERE rb.boardNo = #{boardNo}
</select>
		
</mapper>